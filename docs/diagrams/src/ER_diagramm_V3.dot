@startdot
graph G {
	//layout = neato;
	//overlap = false;

	//Independent Entities
	node [shape = box, style = "filled", fillcolor = lightgrey];
	design [label = "Design"];
	wafer [label = "Wafer"];
	sample [label = "Sample", tooltip = "This is a tooltip"];
	analysis  [label = "Analysis"];
	experiment [label = "Experiment"];

	//Dependent Entities
	node [shape = box, peripheries = 2];
	device [label = "Device", URL = "C:\Users\till3\Desktop\Update_18-09-20"];
	measurement [label = "Measurement"];
	results [label = "Analysis results", tooltip = "Parameters/Results of a measurement extracted according to certain analysis method"];

	//Independent relations
	node [shape = diamond, style = "", peripheries = 1];
	rel_design_device [label = "has"];
	rel_design_msmnt_type [label = "allows for"];
	rel_msmnt_type_analysis [label = "allows for"];
	rel_experiment_msmnt [label = "performed"];
	rel_analysis_msmnt [label = "done on"];
	rel_msmnt_type_measurement [label = "according to"];
	rel_msmnt_type_experiment [label = "requires"];

	//Dependent relations
	node [shape = diamond, peripheries = 2];
	rel_wafer_sample [label = "made of"];
	rel_sample_device [label = "is on"];
	rel_device_measurement [label = "measured"];
	rel_msmnt_settings_measurement [label = "set to"];
	rel_results [label = "due to"];
	rel_msmnt_settings_experiment [label = "set to"];

	//Attributes
	node [shape = ellipse, peripheries = 1];

	sample_ID [label = <<u>Sample Id</u>>];
	sample_placeholder [label = "Other sample attributes"];

	device_ID [label = <<u>Device ID</u>>];
	device_placeholder [label = "Other device attributes"];

	design_ID [label = <<u>Label ID</u>>];
	design_mask [label = "Mask", tooltip ="(e.g. link to .cad-file)"];
	design_creator [label = "Creator"];

	msmnt_ID [label = <<u>Measurement ID</u>>];
	msmnt_comments [label = "Comments"];
	msmnt_link [label = "Link to measurement"];
	msmnt_datetime [label = "Date and Time"];

	exp_ID [label = <<u>Setup ID</u>>];
	exp_instruments [label = "Instruments/Channels"];
	exp_user [label = "User", tooltip = "User performing the experiment"];
	exp_temperature [label = "Temperature of cryostat"];
	exp_filter [label = "Noise filters"];

	an_ID [label = <<u>Method</u>>];
	an_results[label = "Results", tooltip = "Parameters that can be gained by this analysis method"];
	an_script[label = "Script", tooltip = "Script or algorithm used to perform this analysis (Link sufficient)"];
	an_filter [label = "Software filter"];

	res_ID [label =<<u>ID resulting from measurement ID and analysis method</u>>];
	res_results [label = "Extracted parameters and their values"];

	rel_msmnt_type_experiment_mapping [label = "Mapping gate to device"];

	edge [arrowhead = "none", arrowtail = "none"];

	//Attribute Connections

	measurement -- msmnt_ID, msmnt_comments, msmnt_datetime, msmnt_link;
	sample -- sample_ID, sample_placeholder;
	device -- device_ID, device_placeholder;
	design -- design_ID, design_creator, design_mask;
	experiment -- exp_ID, exp_instruments, exp_temperature, exp_user, exp_filter;
	analysis -- an_ID, an_results, an_script, an_filter;
	results -- res_ID, res_results;
	rel_msmnt_type_experiment -- rel_msmnt_type_experiment_mapping;


	//Independent Connections
	wafer -- rel_wafer_sample [label = "1"];
	sample -- rel_sample_device [label = "1"];
	device -- rel_device_measurement [label = "1"];
	rel_design_device -- design [label = "1"];
	design -- rel_design_msmnt_type [label = "N"];
	rel_design_msmnt_type --measurement_type [label = "M"];
	measurement_type -- rel_msmnt_type_analysis [label = "N"];
	rel_msmnt_type_analysis -- analysis [label = "M"];
	analysis -- rel_analysis_msmnt [label = "M"];
	rel_experiment_msmnt -- experiment [label = "1"];
	measurement_type -- rel_msmnt_type_measurement [label = "1"];
	measurement_type -- rel_msmnt_type_experiment [label = "N"];
	rel_msmnt_type_experiment -- experiment [label = "M"];
	measurement_settings -- rel_msmnt_settings_experiment [label = "N"];

	//Dependent Connections
	edge [arrowhead = "none", arrowtail = "none", color = "black:black"];
	rel_wafer_sample -- sample [label = "N"];
	rel_sample_device -- device [label = "N"];
	device -- rel_design_device [label = "N"];
	rel_device_measurement -- measurement [label = "N"];
	measurement -- rel_experiment_msmnt [label = "N"];
	measurement_settings -- rel_msmnt_settings_measurement [label = "1"];
	rel_msmnt_settings_measurement -- measurement [label = "N"];
	rel_analysis_msmnt -- measurement [label = "N"];
	rel_msmnt_type_measurement -- measurement [label = "N"];
	analysis -- rel_results [label = "1"];
	measurement -- rel_results [label = "1"];
	rel_results -- results [label = "1"];
	rel_msmnt_settings_experiment -- experiment [label = "M"];

	//Cluster
	subgraph cluster_settings{
		label = "Settings";
		style = "dashed";
		measurement_type [shape = box, style = "filled", fillcolor = lightgrey, peripheries = 1, label = "Measurement type"];
		measurement_settings [shape = box, style = "filled", fillcolor = lightgrey, peripheries = 2, label = "Measurement settings"];
		rel_msmnt_type_msmnt_settings [label = "requires", shape = "diamond", style = ""];
		measurement_type -- rel_msmnt_type_msmnt_settings [label = "1"];
		rel_msmnt_type_msmnt_settings -- measurement_settings [label = "N", color = "black:black"];

		//Cluster Attributes
		node [shape = ellipse];
		msmnt_type_ID [label = <<u>Type ID</u>>];
		msmnt_type_outcomes [label = "Extractable Parameters", tooltip = "Parameters that are measured by this type of measurement, e.g. T1, T2,... for coherence time measurements"];
		msmnt_type_requirements [label = "Instruments needed"];
		msmnt_type_model [label = "Model"];
		msmnt_type_script [label = "Script/Algorithm"];

		settings_filter [label = "Filter"];

		//Cluster Attribute Connections
		edge [color = "black"];
		measurement_type -- msmnt_type_ID, msmnt_type_outcomes, msmnt_type_requirements, msmnt_type_model, msmnt_type_script;
		measurement_settings -- settings_filter;

		}

	//Legend
	subgraph cluster_legend{
		label = "Legend";
		color = "black";
		entity [label = "Entity", shape = box, style = filled, fillcolor = lightgrey, peripheries = 1, pos = "-2,0!"];
		weak_entity [label = "Weak Entity", shape = box, style = filled, fillcolor = lightgrey, peripheries = 2];
		relations [label = "relations", shape = "diamond", style = "", peripheries = 1];
		weak_relations [label = "relation to weak entity", shape = diamond, peripheries = 2];
		attributes [label = "Attribute", peripheries = 1, shape = ellipse, style = ""];
	}




}
@enddot
